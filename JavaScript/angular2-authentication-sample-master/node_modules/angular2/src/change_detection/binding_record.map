{"version":3,"sources":["binding_record.js"],"names":[],"mappings":"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","file":"angular2/src/change_detection/binding_record.js","sourcesContent":["import {isPresent, isBlank} from 'angular2/src/facade/lang';\nimport {SetterFn} from 'angular2/src/reflection/types';\nimport {AST} from './parser/ast';\nimport {DirectiveIndex, DirectiveRecord} from './directive_record';\n\nconst DIRECTIVE=\"directive\";\nconst ELEMENT=\"element\";\nconst TEXT_NODE=\"textNode\";\n\nexport class BindingRecord {\n  mode:string;\n  ast:AST;\n\n  implicitReceiver:any; //number | DirectiveIndex\n  elementIndex:number;\n  propertyName:string;\n  setter:SetterFn;\n\n  directiveRecord:DirectiveRecord;\n\n  constructor(mode:string, implicitReceiver:any, ast:AST, elementIndex:number, propertyName:string, setter:SetterFn, directiveRecord:DirectiveRecord) {\n    this.mode = mode;\n    this.implicitReceiver = implicitReceiver;\n    this.ast = ast;\n\n    this.elementIndex = elementIndex;\n    this.propertyName = propertyName;\n    this.setter = setter;\n\n    this.directiveRecord = directiveRecord;\n  }\n\n  callOnChange() {\n    return isPresent(this.directiveRecord) && this.directiveRecord.callOnChange;\n  }\n\n  isOnPushChangeDetection() {\n    return isPresent(this.directiveRecord) && this.directiveRecord.isOnPushChangeDetection();\n  }\n\n  isDirective() {\n    return this.mode === DIRECTIVE;\n  }\n\n  isElement() {\n    return this.mode === ELEMENT;\n  }\n\n  isTextNode() {\n    return this.mode === TEXT_NODE;\n  }\n\n  static createForDirective(ast:AST, propertyName:string, setter:SetterFn, directiveRecord:DirectiveRecord) {\n    return new BindingRecord(DIRECTIVE, 0, ast, 0, propertyName, setter, directiveRecord);\n  }\n\n  static createForElement(ast:AST, elementIndex:number, propertyName:string) {\n    return new BindingRecord(ELEMENT, 0, ast, elementIndex, propertyName, null, null);\n  }\n\n  static createForHostProperty(directiveIndex:DirectiveIndex, ast:AST, propertyName:string) {\n    return new BindingRecord(ELEMENT, directiveIndex, ast, directiveIndex.elementIndex, propertyName, null, null);\n  }\n\n  static createForTextNode(ast:AST, elementIndex:number) {\n    return new BindingRecord(TEXT_NODE, 0, ast, elementIndex, null, null, null);\n  }\n}"]}